{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Bootcamp\\\\teamproject\\\\project\\\\LocalRentalKing\\\\front\\\\pages\\\\write.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useCallback, useEffect, useState } from 'react';\nimport Head from 'next/head';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useInView } from \"react-intersection-observer\";\nimport AppLayout from '../components/AppLayout/AppLayout'; // import './index.css';\n\nimport { Button, Form, Input, Modal, Select, Upload } from \"antd\"; // import ReactDOM from 'react-dom';\n\nimport 'antd/dist/antd.css';\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport { SEND_DUMMYPOST_REQUEST } from \"../reducers/post\";\nimport Router from \"next/router\";\nimport useInput from \"../hooks/useInput\";\nvar TextArea = Input.TextArea;\nvar Option = Select.Option;\nvar provinceData = ['물건빌려줘', '물건빌려줄게', '힘을빌려줘', '힘을빌려줄게', '같이하자', '동네놀이터'];\nvar cityData = {\n  물건빌려줘: ['공구', '의류', '전자기기', '서적', '게임/취미', '차량', '스포츠/래저', '뷰티/미용', '반려동물', '기타'],\n  물건빌려줄게: ['공구', '의류', '전자기기', '서적', '게임/취미', '차량', '스포츠/래저', '뷰티/미용', '반려동물', '기타'],\n  힘을빌려줘: ['미술', '구충', '설치', '코칭', '촬영', '일손', '기타'],\n  힘을빌려줄게: ['미술', '구충', '설치', '코칭', '촬영', '일손', '기타'],\n  같이하자: ['1+1', '배달', '공동구매', '기타'],\n  동네놀이터: ['질문', '자유']\n};\n\nfunction getBase64(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onload = function () {\n      return resolve(reader.result);\n    };\n\n    reader.onerror = function (error) {\n      return reject(error);\n    };\n  });\n}\n\nfunction Write() {\n  _s();\n\n  var _this = this;\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      me = _useSelector.me;\n\n  var _useState = useState(cityData[provinceData[0]]),\n      cities = _useState[0],\n      setCities = _useState[1];\n\n  var _useState2 = useState(cityData[provinceData[0]][0]),\n      secondCity = _useState2[0],\n      setSecondCity = _useState2[1];\n\n  var _useState3 = useState(false),\n      previewVisible = _useState3[0],\n      setPreviewVisible = _useState3[1];\n\n  var _useState4 = useState(''),\n      previewImage = _useState4[0],\n      setPreviewImage = _useState4[1];\n\n  var _useState5 = useState(''),\n      previewTitle = _useState5[0],\n      setPreviewTitle = _useState5[1];\n\n  var _useState6 = useState([{\n    uid: '-1',\n    name: 'image.png',\n    status: 'done',\n    url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n  }]),\n      fileList = _useState6[0],\n      setFileList = _useState6[1];\n\n  var _useInput = useInput(''),\n      _useInput2 = _slicedToArray(_useInput, 2),\n      name = _useInput2[0],\n      onChangeName = _useInput2[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (!(me && me.id)) {\n      Router.push('/');\n    }\n  }, [me && me.id]);\n\n  if (!me) {\n    return '내 정보 로딩중...';\n  }\n\n  var handleCancel = function handleCancel() {\n    return setPreviewVisible(false);\n  };\n\n  var handlePreview = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(file) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(!file.url && !file.preview)) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 3;\n              return getBase64(file.originFileObj);\n\n            case 3:\n              file.preview = _context.sent;\n\n            case 4:\n              setPreviewImage(file.url || file.preview);\n              setPreviewVisible(true);\n              setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handlePreview(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleChange = function handleChange(_ref2) {\n    var fileList = _ref2.fileList;\n    return setFileList(fileList);\n  };\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var handleProvinceChange = function handleProvinceChange(value) {\n    setCities(cityData[value]);\n    setSecondCity(cityData[value][0]);\n  };\n\n  var onSecondCityChange = function onSecondCityChange(value) {\n    setSecondCity(value);\n  }; // const onSubmit = useCallback(() => {\n  //   if (!text || !text.trim()) {\n  //     return alert('게시글을 작성하세요.');\n  //   }\n  //   const formData = new FormData();\n  //   imagePaths.forEach((i) => {\n  //     formData.append('image', i);\n  //   });\n  //   formData.append('content', text);\n  //   return dispatch({\n  //     type: ADD_POST_REQUEST,\n  //     data: formData,\n  //   });\n  // }, [text, imagePaths]);\n\n\n  var sendDummyPost1 = useCallback(function () {\n    // 이걸 기반으로 다양한 유형의 글쓰기를 테스트 할 예정\n    var formData = new FormData();\n    formData.append('userid', 1);\n    formData.append('location', \"광주\");\n    formData.append('nickname', \"TheON2\");\n    formData.append('boardNum', 1);\n    formData.append('category', \"공구\");\n    formData.append('title', \"테스트 글 1번의 제목\");\n    formData.append('content', \"제발 무사히 글이 올라가게 해주세요!!!\");\n    formData.append('price', 3000); //임의로 폼데이터와 매개변수를 조정해서 각 기능들을 테스트 해주세요.\n    // 라이트 폼에서 submit 버튼을 누르면 이 메서드가 실행됩니다.\n\n    dispatch({\n      type: SEND_DUMMYPOST_REQUEST,\n      data: formData\n    });\n  }, []);\n  var Test = useCallback(function () {\n    // 이걸 기반으로 다양한 유형의 글쓰기를 테스트 할 예정\n    console.log(name);\n  }, []);\n\n  var uploadButton = __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 5\n    }\n  }, __jsx(PlusOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    style: {\n      marginTop: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }, \"\\uC0AC\\uC9C4\"));\n\n  return __jsx(AppLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 5\n    }\n  }, __jsx(Form, {\n    layout: \"horizontal\",\n    form: form,\n    initialValues: {\n      layout: 'horizontal'\n    },\n    onFinish: Test,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, __jsx(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }, __jsx(Input.Group, {\n    compact: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, __jsx(Input.TextArea, {\n    style: {\n      width: '69%'\n    },\n    value: name,\n    placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n    onChange: onChangeName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }), ' ', __jsx(Input, {\n    style: {\n      width: '30%'\n    },\n    placeholder: \"\\uB80C\\uD0C8\\uBE44\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }))), __jsx(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  }, __jsx(Select, {\n    defaultValue: provinceData[0],\n    style: {\n      width: 120\n    },\n    onChange: handleProvinceChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, provinceData.map(function (province) {\n    return __jsx(Option, {\n      key: province,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 15\n      }\n    }, province);\n  })), __jsx(Select, {\n    style: {\n      width: 120\n    },\n    value: secondCity,\n    onChange: onSecondCityChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }, cities.map(function (city) {\n    return __jsx(Option, {\n      key: city,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    }, city);\n  }))), __jsx(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }, __jsx(Upload, {\n    action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\n    listType: \"picture-card\",\n    fileList: fileList,\n    onPreview: handlePreview,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }, fileList.length >= 5 ? null : uploadButton), __jsx(Modal, {\n    visible: previewVisible,\n    title: previewTitle,\n    footer: null,\n    onCancel: handleCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    alt: \"example\",\n    style: {\n      width: '100%'\n    },\n    src: previewImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }))), __jsx(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 9\n    }\n  }, __jsx(TextArea // value={value}\n  // onChange={this.onChange}\n  , {\n    placeholder: \"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    autoSize: {\n      minRows: 7,\n      maxRows: 7\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 11\n    }\n  })), __jsx(Form.Item, {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  }, __jsx(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 11\n    }\n  }, \"\\uB4F1\\uB85D\"), ' ', __jsx(Button, {\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 11\n    }\n  }, \"\\uCDE8\\uC18C\"))));\n}\n\n_s(Write, \"ZGFL2+kWQf6+dW3iBENjLENSsyE=\", false, function () {\n  return [useSelector, useInput, useDispatch, Form.useForm];\n});\n\n_c = Write;\n;\nexport default Write;\n\nvar _c;\n\n$RefreshReg$(_c, \"Write\");","map":{"version":3,"sources":["C:/Bootcamp/teamproject/project/LocalRentalKing/front/pages/write.js"],"names":["React","useCallback","useEffect","useState","Head","useDispatch","useSelector","useInView","AppLayout","Button","Form","Input","Modal","Select","Upload","PlusOutlined","SEND_DUMMYPOST_REQUEST","Router","useInput","TextArea","Option","provinceData","cityData","물건빌려줘","물건빌려줄게","힘을빌려줘","힘을빌려줄게","같이하자","동네놀이터","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","Write","state","user","me","cities","setCities","secondCity","setSecondCity","previewVisible","setPreviewVisible","previewImage","setPreviewImage","previewTitle","setPreviewTitle","uid","name","status","url","fileList","setFileList","onChangeName","dispatch","id","push","handleCancel","handlePreview","preview","originFileObj","substring","lastIndexOf","handleChange","useForm","form","handleProvinceChange","value","onSecondCityChange","sendDummyPost1","formData","FormData","append","type","data","Test","console","log","uploadButton","marginTop","layout","width","map","province","city","length","minRows","maxRows","textAlign"],"mappings":"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","sourcesContent":["import React, {useCallback, useEffect, useState} from 'react';\nimport Head from 'next/head';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {useInView} from \"react-intersection-observer\";\n\nimport AppLayout from '../components/AppLayout/AppLayout';\n// import './index.css';\nimport {Button, Form, Input, Modal, Select, Upload} from \"antd\";\n// import ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport {PlusOutlined} from \"@ant-design/icons\";\nimport {SEND_DUMMYPOST_REQUEST} from \"../reducers/post\";\nimport Router from \"next/router\";\nimport useInput from \"../hooks/useInput\";\n\nconst {TextArea} = Input;\n\nconst {Option} = Select;\nconst provinceData = [\n  '물건빌려줘',\n  '물건빌려줄게',\n  '힘을빌려줘',\n  '힘을빌려줄게',\n  '같이하자',\n  '동네놀이터',\n];\nconst cityData = {\n  물건빌려줘: [\n    '공구',\n    '의류',\n    '전자기기',\n    '서적',\n    '게임/취미',\n    '차량',\n    '스포츠/래저',\n    '뷰티/미용',\n    '반려동물',\n    '기타',\n  ],\n  물건빌려줄게: [\n    '공구',\n    '의류',\n    '전자기기',\n    '서적',\n    '게임/취미',\n    '차량',\n    '스포츠/래저',\n    '뷰티/미용',\n    '반려동물',\n    '기타',\n  ],\n  힘을빌려줘: ['미술', '구충', '설치', '코칭', '촬영', '일손', '기타'],\n  힘을빌려줄게: ['미술', '구충', '설치', '코칭', '촬영', '일손', '기타'],\n  같이하자: ['1+1', '배달', '공동구매', '기타'],\n  동네놀이터: ['질문', '자유'],\n};\n\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = (error) => reject(error);\n  });\n}\n\nfunction Write() {\n  const { me } = useSelector((state)=>state.user);\n  const [cities, setCities] = useState(cityData[provinceData[0]]);\n  const [secondCity, setSecondCity] = useState(cityData[provinceData[0]][0]);\n  const [previewVisible, setPreviewVisible] = useState(false);\n  const [previewImage, setPreviewImage] = useState('');\n  const [previewTitle, setPreviewTitle] = useState('');\n  const [fileList, setFileList] = useState([\n    {\n      uid: '-1',\n      name: 'image.png',\n      status: 'done',\n      url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n    },\n  ]);\n  const [name,onChangeName]=useInput('');\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!(me && me.id)) {\n      Router.push('/');\n    }\n  }, [me && me.id]);\n\n  if (!me) {\n    return '내 정보 로딩중...';\n  }\n\n  const handleCancel = () => setPreviewVisible(false);\n  const handlePreview = async (file) => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n    setPreviewImage(file.url || file.preview);\n    setPreviewVisible(true);\n    setPreviewTitle(\n      file.name || file.url.substring(file.url.lastIndexOf('/') + 1)\n    );\n  };\n\n  const handleChange = ({fileList}) => setFileList(fileList);\n\n  const [form] = Form.useForm();\n\n  const handleProvinceChange = (value) => {\n    setCities(cityData[value]);\n    setSecondCity(cityData[value][0]);\n  };\n\n  const onSecondCityChange = (value) => {\n    setSecondCity(value);\n  };\n\n  // const onSubmit = useCallback(() => {\n  //   if (!text || !text.trim()) {\n  //     return alert('게시글을 작성하세요.');\n  //   }\n  //   const formData = new FormData();\n  //   imagePaths.forEach((i) => {\n  //     formData.append('image', i);\n  //   });\n  //   formData.append('content', text);\n  //   return dispatch({\n  //     type: ADD_POST_REQUEST,\n  //     data: formData,\n  //   });\n  // }, [text, imagePaths]);\n\n  const sendDummyPost1 = useCallback(() => { // 이걸 기반으로 다양한 유형의 글쓰기를 테스트 할 예정\n    const formData = new FormData();\n    formData.append('userid',1);\n    formData.append('location',\"광주\");\n    formData.append('nickname',\"TheON2\");\n    formData.append('boardNum',1);\n    formData.append('category',\"공구\");\n    formData.append('title',\"테스트 글 1번의 제목\");\n    formData.append('content',\"제발 무사히 글이 올라가게 해주세요!!!\");\n    formData.append('price',3000);\n    //임의로 폼데이터와 매개변수를 조정해서 각 기능들을 테스트 해주세요.\n    // 라이트 폼에서 submit 버튼을 누르면 이 메서드가 실행됩니다.\n    dispatch({\n      type:SEND_DUMMYPOST_REQUEST,\n      data:formData,\n    });\n  },[]);\n\n  const Test = useCallback(() => { // 이걸 기반으로 다양한 유형의 글쓰기를 테스트 할 예정\n   console.log(name);\n  },[]);\n\n\n  const uploadButton = (\n    <div>\n      <PlusOutlined/>\n      <div style={{marginTop: 8}}>사진</div>\n    </div>\n  );\n\n  return (\n    <AppLayout>\n      <Form\n        layout=\"horizontal\"\n        form={form}\n        initialValues={{\n          layout: 'horizontal',\n        }}\n        onFinish={Test}\n      >\n        <Form.Item>\n          <Input.Group compact>\n            <Input.TextArea style={{width: '69%'}} value={name} placeholder=\"제목을 입력해주세요.\" onChange={onChangeName}/>{' '}\n            <Input\n              style={{width: '30%'}}\n              placeholder=\"렌탈비를 입력해주세요.\"\n            />\n          </Input.Group>\n        </Form.Item>\n\n        <Form.Item>\n          <Select\n            defaultValue={provinceData[0]}\n            style={{width: 120}}\n            onChange={handleProvinceChange}\n          >\n            {provinceData.map((province) => (\n              <Option key={province}>{province}</Option>\n            ))}\n          </Select>\n          <Select\n            style={{width: 120}}\n            value={secondCity}\n            onChange={onSecondCityChange}\n          >\n            {cities.map((city) => (\n              <Option key={city}>{city}</Option>\n            ))}\n          </Select>\n        </Form.Item>\n        <Form.Item>\n          <Upload\n            action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n            listType=\"picture-card\"\n            fileList={fileList}\n            onPreview={handlePreview}\n            onChange={handleChange}\n          >\n            {fileList.length >= 5 ? null : uploadButton}\n          </Upload>\n          <Modal\n            visible={previewVisible}\n            title={previewTitle}\n            footer={null}\n            onCancel={handleCancel}\n          >\n            <img alt=\"example\" style={{width: '100%'}} src={previewImage}/>\n          </Modal>\n        </Form.Item>\n        <Form.Item>\n          <TextArea\n            // value={value}\n            // onChange={this.onChange}\n            placeholder=\"내용을 입력해주세요\"\n            autoSize={{minRows: 7, maxRows: 7}}\n          />\n        </Form.Item>\n\n        <Form.Item style={{textAlign: 'center'}}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            등록\n          </Button>{' '}\n          <Button type=\"primary\">취소</Button>\n        </Form.Item>\n      </Form>\n    </AppLayout>\n  );\n};\n\nexport default Write;\n"]},"metadata":{},"sourceType":"module"}